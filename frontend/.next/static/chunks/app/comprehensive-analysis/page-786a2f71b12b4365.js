(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{4798:function(e,t,a){Promise.resolve().then(a.bind(a,884))},884:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(7821),s=a(8078),n=a(8504),i=a(4313),l=a(798);let d=(0,a(927).Z)("outline","sparkles","Sparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]]);var o=a(8802),c=a(5731),u=a(7687),g=a(7796);function p(){let e=(0,n.useSearchParams)(),[t,a]=(0,s.useState)(""),[p,m]=(0,s.useState)(!1),[h,x]=(0,s.useState)(0),[y,b]=(0,s.useState)([]),[f,v]=(0,s.useState)(null),[k,j]=(0,s.useState)(null),N=[{id:"url-validation",label:"Validating Product URL",status:"pending",message:"Checking URL accessibility and extracting product identifiers"},{id:"product-scraping",label:"Advanced Web Scraping",status:"pending",message:"Extracting detailed product data with anti-bot evasion"},{id:"ai-analysis",label:"AI-Powered Analysis",status:"pending",message:"Running Google Gemini AI for comprehensive product evaluation"},{id:"price-prediction",label:"ML Price Prediction",status:"pending",message:"Generating price forecasts using machine learning"},{id:"carbon-footprint",label:"Carbon Impact Calculation",status:"pending",message:"Calculating environmental impact and carbon footprint"},{id:"supply-chain",label:"Supply Chain Analysis",status:"pending",message:"Evaluating supply chain transparency and labor practices"},{id:"brand-reputation",label:"Brand Intelligence",status:"pending",message:"Analyzing brand reputation and ethical practices"},{id:"smart-insights",label:"Financial Intelligence",status:"pending",message:"Calculating hidden costs and value analysis"}];(0,s.useEffect)(()=>{if(e){let t=e.get("url");t?(a(decodeURIComponent(t)),b(N)):window.location.href="/"}},[e]);let w=async()=>{m(!0),x(0),j(null),v(null);try{let e=M(),a=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!a.ok)throw Error("Analysis failed: ".concat(a.statusText));let r=await a.json();await e,v(r),x(100)}catch(e){j(e instanceof Error?e.message:"Analysis failed"),b(e=>e.map(e=>"pending"===e.status||"in-progress"===e.status?{...e,status:"error",message:"❌ Analysis interrupted"}:e))}finally{m(!1)}},M=async()=>{for(let e=0;e<N.length;e++){let t=N[e];b(e=>e.map(e=>e.id===t.id?{...e,status:"in-progress",progress:0}:e));let a="ai-analysis"===t.id?3e3:"product-scraping"===t.id?2500:1500;for(let r=0;r<=100;r+=25)await new Promise(e=>setTimeout(e,a/4)),b(e=>e.map(e=>e.id===t.id?{...e,progress:r}:e)),x((100*e+r)/N.length);b(e=>e.map(e=>e.id===t.id?{...e,status:"completed",progress:100,message:Z(t.id)}:e)),await new Promise(e=>setTimeout(e,200))}},Z=e=>({"url-validation":"✅ Product URL validated - Amazon India detected","product-scraping":"✅ Product data extracted successfully with anti-bot measures","ai-analysis":"✅ Google Gemini AI analysis completed","price-prediction":"✅ ML price forecast generated with 85% confidence","carbon-footprint":"✅ Environmental impact calculated","supply-chain":"✅ Supply chain transparency evaluated","brand-reputation":"✅ Brand intelligence analysis completed","smart-insights":"✅ Financial insights and hidden costs calculated"})[e]||"✅ Step completed successfully";return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 bg-clip-text text-transparent",children:"\uD83C\uDFAF EthiShop Comprehensive Analysis"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2 text-lg",children:"Advanced AI-powered product intelligence with unique competitive insights"})]}),t&&(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium",children:[(0,r.jsx)(l.Z,{size:16}),(e=>{try{return new URL(e).hostname.replace("www.","")}catch(e){return"Unknown Platform"}})(t)]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 text-green-800 dark:text-green-200 rounded-full text-sm font-medium",children:[(0,r.jsx)(d,{size:16}),"Unique Insights Available"]})]}),(0,r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 break-all bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:t})}),!p&&!f&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("button",{onClick:w,className:"px-8 py-4 bg-gradient-to-r from-blue-600 via-purple-600 to-green-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:via-purple-700 hover:to-green-700 transition-all transform hover:scale-105 shadow-xl",children:"\uD83D\uDE80 Start Comprehensive Analysis"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Includes ML price prediction, carbon footprint, supply chain analysis & more"})]})]})}),y.length>0&&(p||h>0)&&(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"".concat(p?"animate-spin":""," text-blue-500"),size:24}),"Advanced Analysis Progress"]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[Math.round(h),"% Complete"]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-green-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(h,"%")}})}),(0,r.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:y.map((e,t)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-center gap-4 p-4 rounded-xl transition-all ".concat("completed"===e.status?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"in-progress"===e.status?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"error"===e.status?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-700/50"),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold ".concat("completed"===e.status?"bg-green-500 text-white":"in-progress"===e.status?"bg-blue-500 text-white":"error"===e.status?"bg-red-500 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-300"),children:"completed"===e.status?(0,r.jsx)(c.Z,{size:20}):"in-progress"===e.status?(0,r.jsx)(o.Z,{size:20,className:"animate-spin"}):"error"===e.status?"❌":t+1}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.message}),"in-progress"===e.status&&void 0!==e.progress&&(0,r.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1.5 mt-2",children:(0,r.jsx)("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-200",style:{width:"".concat(e.progress,"%")}})})]})]},e.id))})]})}),k&&(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(u.Z,{size:14,className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-red-800 dark:text-red-200 mb-2",children:"Analysis Failed"}),(0,r.jsx)("p",{className:"text-red-700 dark:text-red-300",children:k}),(0,r.jsx)("button",{onClick:w,className:"mt-3 px-4 py-2 bg-red-100 dark:bg-red-800/30 hover:bg-red-200 dark:hover:bg-red-700/30 text-red-800 dark:text-red-200 rounded-lg transition-colors text-sm font-medium",children:"Try Again"})]})]})}),f&&(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,r.jsx)(g.q,{result:f,url:t})}),!t&&(0,r.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(u.Z,{size:14,className:"text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-red-800 dark:text-red-200 mb-2",children:"No Product URL Provided"}),(0,r.jsx)("p",{className:"text-red-700 dark:text-red-300",children:"Please return to the homepage and enter a product URL to analyze."})]})]})})]})})})}},8504:function(e,t,a){"use strict";var r=a(3226);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},7687:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","alert-circle","AlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])},5731:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","check","Check",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},4225:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","currency","Currency",[["path",{d:"M12 12m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M4 4l3 3",key:"svg-1"}],["path",{d:"M20 4l-3 3",key:"svg-2"}],["path",{d:"M4 20l3 -3",key:"svg-3"}],["path",{d:"M20 20l-3 -3",key:"svg-4"}]])},798:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","external-link","ExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]])},6487:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","info-circle","InfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]])},8802:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","loader-2","Loader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]])},70:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","star","Star",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]])},113:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","target","Target",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]])},9558:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","trending-down","TrendingDown",[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]])},2523:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(927).Z)("outline","trending-up","TrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]])}},function(e){e.O(0,[999,796,115,364,744],function(){return e(e.s=4798)}),_N_E=e.O()}]);