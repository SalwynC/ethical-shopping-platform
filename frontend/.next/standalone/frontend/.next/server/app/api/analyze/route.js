"use strict";(()=>{var e={};e.id=652,e.ids=[652],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4301:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>y,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var r={};a.r(r),a.d(r,{POST:()=>d,dynamic:()=>p,runtime:()=>u});var n=a(3277),o=a(5265),s=a(5356),i=a(7076);let p="force-dynamic",u="nodejs",l=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:4000";async function d(e){let t=Date.now();try{let{url:a}=await e.json();if(!a)return i.NextResponse.json({error:"URL is required"},{status:400});let r=await fetch(`${l}/api/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a})});if(!r.ok)throw await r.text(),Error(`Backend returned ${r.status}`);let n=await r.json(),o=Date.now()-t;return i.NextResponse.json({...n,metadata:{timestamp:new Date().toISOString(),processingTime:`${o}ms`,freshData:!0,serverTime:new Date().toLocaleTimeString()}})}catch(a){let e=Date.now()-t;return i.NextResponse.json({error:"Analysis failed",message:a.message||"Could not analyze product",processingTime:`${e}ms`,timestamp:new Date().toISOString()},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/analyze/route",pathname:"/api/analyze",filename:"route",bundlePath:"app/api/analyze/route"},resolvedPagePath:"D:\\Projects Base Web Dev\\Final YR New Project Idea\\New_Scrapping_Project\\ethical-shopping-platform\\frontend\\src\\app\\api\\analyze\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g}=c,y="/api/analyze/route";function w(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[916,786],()=>a(4301));module.exports=r})();